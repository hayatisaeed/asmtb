<!DOCTYPE html>
<html>
<head>
    <title>Dynamic Form</title>
</head>
<body>
    <h1>Dynamic Form</h1>
    <form method="post">
        <!-- Render Subject dropdown -->
        <select name="subject">
            <option value="">Select</option>
            {% for subject, under_subjects in data.items() %}
                <option value="{{ subject }}">{{ subject }}</option>
            {% endfor %}
        </select>

        <!-- Render Under Subject dropdown based on form data -->
        <select name="under_subject">
            <option value="">Select</option>
            {% if form_data.get('subject') %}
                {% for under_subject in data[form_data['subject']] %}
                    <option value="{{ under_subject }}">{{ under_subject }}</option>
                {% endfor %}
            {% endif %}
        </select>

        <!-- Render Under Under Subject dropdown based on form data -->
        <select name="under_under_subject">
            <option value="">Select</option>
            {% if form_data.get('under_subject') %}
                {% for under_under_subject in data[form_data['subject']][form_data['under_subject']] %}
                    <option value="{{ under_under_subject }}">{{ under_under_subject }}</option>
                {% endfor %}
            {% endif %}
        </select>

        <!-- Render additional fields as needed -->

        <input type="submit" value="Submit">
    </form>

    <!-- Display submitted data -->
    {% if form_data %}
        <h2>Submitted Data:</h2>
        <pre>{{ form_data | tojson }}</pre>
    {% endif %}
</body>
</html>
